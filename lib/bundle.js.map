{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/belt.js","webpack:///./lib/board.js","webpack:///./lib/entry.js","webpack:///./lib/game.js","webpack:///./lib/platform.js","webpack:///./lib/player.js","webpack:///./lib/spiky.js","webpack:///./lib/spring.js","webpack:///./lib/turnable.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;ACnEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qE;;;;;;;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,2BAA2B;;AAE/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,sE;;;;;;;;;;;;;;AC1FA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC,C;;;;;;;;;;;;;;;ACdD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,6C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,qE;;;;;;;;;;;;ACzNA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yE;;;;;;;;;;;;ACzBA;AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,KAAK;AACL;AACA;AACA,yBAAyB;AACzB,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,uE;;;;;;;;;;;;;;AC/GA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,WAAW;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,sE;;;;;;;;;;;;;;AC3CA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uE;;;;;;;;;;;;;;ACnBA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,yE","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib/entry.js\");\n","import Platform from './platform';\n\nclass Belt extends Platform {\n  constructor(ctx, x, y) {\n    super(ctx, x, y);\n  }\n\n  drawPlatform(){\n    // super.drawPlatform();\n    this.ctx.beginPath();\n    this.ctx.fillRect(this.x, this.y, 260, 32);\n    this.ctx.fillStyle = \"#000000\";\n    this.ctx.fill();\n    this.ctx.closePath();\n    this.rightEdge = this.x + 260;\n\n  }\n}\n\nexport default Belt;","import Platform from './platform';\nimport Turnable from './turnable';\nimport Spring from './spring';\nimport Spiky from './spiky';\nimport Belt from './belt';\n\nclass Board {\n  constructor(ctx){\n    this.ctx = ctx;\n    this.platforms = [];\n    this.ceiling = new Image();\n    this.ceiling.src = \"./src/ceiling.png\";\n\n    this.platformHit = false;\n    this.randomx = this.randomX.bind(this);\n    this.drawCeiling = this.drawCeiling.bind(this);\n    this.removeOutOfRange = this.removeOutOfRange.bind(this);\n    this.generatePlatform = this.generatePlatform.bind(this);\n  }\n\n  populate(){\n    const y = [ 210, 410, 810, 610, 1210]\n    y.forEach(y => { this.generatePlatform(y) });\n    \n    this.ceiling.onload = () => {\n      this.drawCeiling();\n    }\n    //the initial platform the player stands on\n    const begin = new Platform(this.ctx, 300, 1010);\n    this.platforms.push(begin);\n\n    this.platforms.forEach( p => {\n      p.drawPlatform();\n    })\n  }\n\n  drawCeiling() {\n    this.ctx.drawImage(this.ceiling, 0, 0, 880, 35, 0, 0, 990, 50);\n  }\n\n  randomX() {\n    return Math.floor(Math.random() * 45) * 18 - 130;\n  }\n\n  randomPlatform(y){\n    const x = this.randomX();\n    const args = [this.ctx, x, y]\n    const options = [\n      new Platform(...args),\n      new Turnable(...args),\n      new Spiky(...args),\n      new Spring(...args),\n      new Belt(...args)\n    ]\n\n    return options[Math.floor(Math.random() * 5)]\n  }\n\n  generatePlatform(y = 1280){\n    const p = this.randomPlatform(y);\n    this.platforms.push(p);\n    this.removeOutOfRange();\n  }\n\n  removeOutOfRange(){\n    const length = this.platforms.length;\n    if (length > 7 ) {\n      this.platforms = this.platforms.slice(length - 7, length);\n    }\n  }\n\n  startFeedPlatform() {\n    this.checkHit();\n    if (this.platformHit) {\n      this.platformHit = false;\n      this.generatePlatform();\n    }\n  }\n\n  checkHit(){\n    this.platforms.forEach(p => {\n      if (p.y <= 10 && p.y > 0) {\n        p.y -= 40;\n        this.platformHit = true;\n        return;\n      }\n    })\n  }\n}\n\nexport default Board;","import Game from './game';\n\ndocument.addEventListener('DOMContentLoaded', ()=> {\n  const canvas = document.getElementById('myCanvas');\n  const canvas2 = document.getElementById('myCanvas2')\n  canvas.style.width = \"440px\";\n  canvas.style.height = \"610px\";\n  canvas2.style.width = \"440px\";\n  canvas2.style.height = \"40px\";\n  const ctx = canvas.getContext('2d');\n  const ctx2 = canvas2.getContext('2d');\n\n  const game = new Game(ctx, ctx2);\n  game.play();\n})","import Board from './board';\nimport Player from './player';\n\nclass Game {\n  constructor(ctx, ctx2){\n    this.ctx = ctx;\n    this.ctx2 = ctx2;\n    this.vy = 4;\n\n    this.player = new Player(this.ctx);\n    this.board = new Board(this.ctx);\n\n    this.landedPF = null;\n    this.started = false;\n    this.pause = true;\n    this.over = false;\n    this.hitTop = false;\n    this.first = true;\n\n    this.button = new Image();\n    this.button.src = \"./src/buttons.png\";\n\n    this.overText = new Image();\n    this.overText.src = \"./src/over.png\";\n\n    this.bx = 0;\n    this.by = 0;\n\n    this.pauseFn = this.pauseFn.bind(this)\n    this.init = this.init.bind(this)\n    this.animate = this.animate.bind(this);\n    this.checkX = this.checkX.bind(this);\n    this.checkY = this.checkY.bind(this);\n    this.loadImage = this.loadImage.bind(this);\n\n    this.listenKey();\n  }\n\n  init(){\n    this.board.populate();\n    this.ctx2.font = \"50px Monospace\";\n    this.ctx2.fillText(\"life:\", 10, 52);\n    this.renderLife();\n    this.button.onload = () => {\n      this.ctx.drawImage(this.button, this.bx, this.by, 490, 141, 180, 490, 490, 141)\n    }\n    this.player.go();\n  }\n\n  play(){\n    this.init();\n  }\n\n  renderLife() {\n    this.ctx2.clearRect(160, 0, 880, 80);\n\n    this.ctx2.lineWidth = 3;\n    this.ctx2.strokeRect(175, 20, 305, 35);\n    for (let i = 0; i < this.player.life;i ++) {\n      this.ctx2.fillRect(180 + 30 * i, 25, 25, 25)\n    }\n    this.ctx2.fillText(\"score: \", 580, 54)\n    this.ctx2.fillText(this.player.score, 820, 58);\n\n  }\n\n  loadImage() {\n    this.ctx.drawImage(this.button, this.bx, this.by, 490, 141, 180, 490, 490, 141)\n  }\n\n  listenKey() {\n    const handleKeydown = (e) => {\n      if (e.key === \" \" || e.button === 0) {\n        if (this.pause) {\n          this.by = 187;\n          if (!this.started) {\n            this.started = true\n            if (this.over) {\n              this.over = false\n              window.location.reload();\n              this.pause = false;\n            }\n          }\n        } else {\n          this.by = 187;\n          this.pauseFn();\n          this.loadImage();\n        }\n\n      }\n    }\n\n    const handleKeyUp = (e) => {\n      if (e.key === \" \" || e.button === 0) {\n        if (this.pause) {\n          this.pause = false;\n          this.continue();\n        } else {\n          this.pause = true;\n        }\n      }\n    }\n    document.addEventListener(\"keydown\", handleKeydown, false);\n    document.addEventListener(\"keyup\", handleKeyUp, false);\n    document.addEventListener(\"mousedown\", handleKeydown, false);\n    document.addEventListener(\"mouseup\", handleKeyUp, false);\n\n  }\n\n  animate() {\n    this.rollInterval = requestAnimationFrame(this.animate);\n    this.ctx.clearRect(0, 0, 880, 1280);\n    this.ctx2.clearRect(160,0,880, 80);\n    this.board.startFeedPlatform();\n    this.drawObjects();\n    if (this.player.score >= 10 && this.player.score % 10 === 0) {\n      this.vy += 0.01\n    }\n\n    this.moveUp();\n    this.checkHittingTop();\n    this.renderLife();\n    this.checkLanding();\n    this.player.hurtFn();\n    this.player.drop();\n    this.checkOver();\n    if (this.over) {\n      this.started = false;\n      this.pauseFn();\n      this.pause = true;\n      this.ctx.drawImage(this.overText, 200, 510);\n      this.by = 374;\n      setTimeout(this.loadImage, 2000);\n    }\n  }\n\n\n  checkLanding() {\n    if (this.landedPF) {\n      this.checkFall();\n    } else {\n      this.getLandedPF();\n    }\n  }\n\n  drawObjects(){\n    this.board.platforms.forEach(p => {\n      p.drawPlatform();\n    })\n    this.board.drawCeiling();\n    this.player.draw();\n  }\n\n  moveUp() {\n    this.player.dy -= this.vy;\n    this.board.platforms.forEach(p => {\n      p.y -= this.vy;\n    })\n  }\n\n  continue() {\n    this.animate();\n  }\n\n  pauseFn() {\n    cancelAnimationFrame(this.rollInterval);\n  }\n\n  getLandedPF() {\n    this.board.platforms.forEach( p => {\n      if (this.checkY(p) && this.checkX(p)) { \n        this.landedPF = p;\n        this.player.dy = this.landedPF.y - 108;\n        this.player.dropping = false;\n        this.landedPF.land(this.player);\n        if (this.first) {\n          this.player.score -=1;\n          this.first = false;\n        }\n        this.renderLife();\n       }\n    })\n  }\n\n  checkX(p) {\n   return this.player.dx + 20 < p.rightEdge && this.player.dx + 57 > p.x;\n  }\n  \n  checkY(p) {\n    return this.player.dy + 108 >= p.y && this.player.dy + 108 < p.y + 32;\n  }\n\n  checkFall() {\n    if (!this.checkX(this.landedPF) || this.hitTop) {\n      this.landedPF = null;\n      this.player.dropping = true;\n    }\n  }\n\n  checkHittingTop(){\n    if (this.player.dy < 20) {\n      this.hitTop = true;\n      this.player.hurt = true;\n      this.player.dy += 32\n      this.player.life -= 5;\n    } else {\n      this.hitTop = false;\n    }\n  }\n\n  checkOver() {\n    if (this.player.dy > 1280 || this.player.life <= 0){\n      this.over = true;\n    }\n  }\n}\n\nexport default Game;","class Platform {\n  constructor(ctx, x, y){\n    this.ctx = ctx;\n    this.x = x;\n    this.y = y;\n    // this.drawPlatform = this.drawPlatform.bind(this);\n  }\n\n  drawPlatform(){\n    this.ctx.beginPath();\n    this.ctx.fillRect(this.x, this.y, 260, 32);\n    this.ctx.fillStyle = \"#3393C6\";\n    this.ctx.fill();\n    this.ctx.closePath();\n    this.rightEdge = this.x + 260;\n  }\n  \n  land(player) {\n    player.score += 1;\n    if (player.life !== 10) {\n      player.life += 1;\n    }\n  }\n}\n\nexport default Platform;","class Player {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.img = new Image();\n    this.img.src = \"./src/match.png\";\n\n    this.rightPressed = false;\n    this.leftPressed = false;\n\n    this.dropping = false;\n    this.hurt = false;\n    this.hurtFlash = null;\n\n    //sprite dimension\n    this.sx = 4;\n    this.sy = 2;\n\n    //canvas dimension\n    this.dx = 400;\n    this.dy = 903;\n    // this.dy = 0;\n\n    this.vy = 10;\n    this.life = 10;\n    this.score = 0;\n    this.flashTime = 0;\n    this.draw = this.draw.bind(this);\n    this.flash = this.flash.bind(this);\n    this.stopFlash = this.stopFlash.bind(this);\n  }\n\n  // 55\n  drawMan(){\n    this.ctx.drawImage(this.img, this.sx, this.sy, 195, 270, this.dx, this.dy, 78, 108);\n  }\n\n  draw() {\n    this.drawMan();\n    let sprite;\n    if (this.rightPressed) {\n      sprite = [1192, 1475]\n      this.sx = sprite[Math.floor(Math.random() * 2)];\n      if (this.dx < 815) { this.dx += 9 }\n    } else if (this.leftPressed) {\n      sprite = [596, 894]\n      this.sx = sprite[Math.floor(Math.random() * 2)];\n      if (this.dx >= 0) { this.dx -= 9 }\n    } else {\n      this.sx = 4;\n    }\n  }\n\n  go(){\n    this.img.onload = () => this.drawMan();\n    \n    const handleKeydown = (e) => {\n      if (e.key === \"ArrowRight\") {\n        this.rightPressed = true;\n      } else if (e.key === \"ArrowLeft\") {\n        this.leftPressed = true;\n      }\n    }\n\n    const handleKeyup = (e) => {\n      if (e.key === \"ArrowRight\") {\n        this.rightPressed = false;\n      } else if (e.key === \"ArrowLeft\") {\n        this.leftPressed = false;\n      }\n    }\n\n    document.addEventListener(\"keydown\", handleKeydown, true);\n    document.addEventListener(\"keyup\", handleKeyup, true);\n  }\n\n  drop(){\n    if (this.dropping) {\n      this.sx = 298;\n      this.dy += this.vy;\n      this.vy += 1 ;\n    } else {\n      this.vy = 10;\n    }\n  }\n\n  hurtFn() {\n    if (this.hurt) {\n      this.flashTime += 8;\n      if (!this.hurtFlash) {\n        this.hurtFlash = setInterval(this.flash, 250)\n        if (this.flashTime === 0 ) {\n          this.stopFlash();\n        }\n      }\n      this.hurt = false;\n    }\n  }\n\n  flash() {\n    if (this.flashTime > 0) {\n      this.flashTime % 2 === 1 ? this.sy = 2 : this.sy = 375;\n      this.flashTime -= 1\n    }\n  }\n\n  stopFlash(){\n    clearInterval(this.hurtFlash)\n    this.sy = 2;\n  }\n}\n\nexport default Player;","import Platform from './platform';\n\nclass Spiky extends Platform {\n  constructor(ctx, x, y){\n    super(ctx, x, y);\n    this.type = \"spiky\";\n  }\n\n  drawPlatform() {\n    super.drawPlatform();\n    this.ctx.save();\n    this.ctx.translate(this.x, this.y);\n    this.ctx.fillRect(0, 0, 260, 32);\n    this.ctx.beginPath();\n    this.ctx.moveTo(0, 0)\n    this.ctx.lineWidth = 2;\n    this.drawSpikes();\n    this.ctx.closePath();\n    this.ctx.fillStyle = \"#aaaaaa\";\n    this.ctx.fill();\n    this.ctx.strokeStyle = \"#aaaaaa\";\n    this.ctx.stroke();\n    this.ctx.restore();\n  }\n\n  drawSpikes() {\n    const right = 260;\n    const bottom = 0;\n    const spikeHeight = 30;\n    const spikeWidth = 10;\n    for (let x = 0; x < right;) {\n      this.ctx.lineTo(x += spikeWidth, -spikeHeight);\n      this.ctx.lineTo(Math.min(x += spikeWidth, right), bottom);\n    }\n  }\n\n  land(player) {\n    player.life -= 3;\n    player.score += 0;\n    player.hurt = true;\n  }\n}\n\nexport default Spiky;","import Platform from './platform';\n\nclass Spring extends Platform {\n  constructor(ctx, x, y) {\n    super(ctx, x, y)\n  }\n\n  drawPlatform() {\n    // super.drawPlatform();\n    this.ctx.beginPath();\n    this.ctx.fillRect(this.x, this.y, 260, 32);\n    this.ctx.fillStyle = \"lightseagreen\";\n    this.ctx.fill();\n    this.ctx.closePath();\n    this.rightEdge = this.x + 260;\n  }\n\n}\n\nexport default Spring;","import Platform from './platform';\n\nclass Turnable extends Platform {\n  constructor(ctx, x, y) {\n    super(ctx, x, y)\n  }\n\n  drawPlatform() {\n    // super.drawPlatform();\n    this.ctx.beginPath();\n    this.ctx.fillRect(this.x, this.y, 260, 32);\n    this.ctx.fillStyle = \"pink\";\n    this.ctx.fill();\n    this.ctx.closePath();\n    this.rightEdge = this.x + 260;\n  }\n\n}\n\nexport default Turnable;"],"sourceRoot":""}